# 5.SQLServer

# 一 概述
## 2 历史
1988年推出SQLServer的第一个os/版本，1996年推出了SQLServer6.5版本，1998年推出7.0，2000年推出2000，2005年推出2005，2008年推出2008  

又称MSSQL

### 2.1 各版本特点
1. SQLServer2012  
这个版本中，每张表的可分区数量达到了15000

## 3常识
### 3.1 数据库和数据库实例
数据库引擎是SQLServer的核心组件，作为服务运行于服务器上，通常被称为数据库实例。一个数据库可以有多个数据库实例。  
我的理解就是数据库是磁盘和一堆其他的东西，数据库实例是服务和一堆其他的东西。

### 3.2 列名使用了关键字怎么办
可以用方括号`[]`或双引号`""`包围关键字。字段名任何情况下都不区分大小写

# 二 安装配置
1. 安装步骤暂略
2. 配置服务器组
    1. 服务器组中新建服务器的时候，服务器名词要用`.`,对应的是本地默认的数据库服务器，只有使用默认的这个才能连上。不过我觉得自己理解的还不全面。
    
# 三 基础
## 1 ssms的使用
1. 可用数据库栏里选中master查询的时候需要输入数据库的名字+dbo(一般都是)+表名，选中数据库名查询的时候只需要输入表名就行了

## 6 新增
### 6.1 insert into select

## 7 查询
### 7.7 规定要返回的记录的数目
使用`TOP`

例子：
```sql
SELECT TOP 2 * FROM Persons; -- 选取头2条记录
SELECT TOP 50 PERCENT * FROM Persons; -- 选取 50% 的记录
```

## 2 变量
1. 局部变量，以@开头，赋值有两种方式：select（此时的select不是查询的意思了）和set
2. 全局变量，以@@开头

## 3 流程控制
1. BEGIN ... END，用于将多个T-SQL语句组合成一个逻辑块
2. IF

## 4 系统标识符等
1. declare，声明之后的变量都被赋予初值null

# 六 问题
## 1 mssql: 以 'xxx' 开头的 标识符 太长。最大长度为128
很可能是语法格式错误

## 2 mssql: 无法绑定由多个部分组成的标识符 "table_name.field_name"。
可能是table_name写错了

## 3  列名 'xxx' 无效
可能是列名写错了


# 七 未整理