# 3.ShellScript

# 三 基础
## 未整理
1. `dirname $0`：脚本所在的目录。可以方便的通过该目录来定位。
    1. `dirname`用于获取指定路径所在的目录。
    2. `$0`:表示当前运行的程序的名字，如果是在shell中则输出shell的名字，如果是在脚本中，则输出脚本的文件名。比如在bash中执行`echo %0`，输出的是“-bash”。
2. `#!`:告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序

## 1 变量
定义变量`name = "xxx"`，使用变量`$name`或`${name}`，声明为只读变量(不能再被修改)`readonly name`，删除变量（不能删除只读变量）`unset name`

### 1.1 变量类型
三种：
1. 环境变量
2. 局部变量
3. shell变量：由shell设置，即有环境变量，也有局部变量

## 3 循环
### 3.1 if else
`if then`的语法形如:
```bash
if condition
then
    command1 
    ...
fi
```
也可以写成一行，如`if [ $(ps -ef | grep -c "ssh") -gt 1 ]; then echo "true"; fi`

`if then else`的语法：
```bash 
if condition
then 
    command1
else
    command2
fi
```

`if else if`:
```bash
if condition
then 
    command1
elif condition2
then 
    command2
else
    command3
fi
```

注意条件表达式必须放在方括号中。

### 3.2 for
```bash
for file in `ls /etc`
```

# 七 未整理
1. https://www.cnblogs.com/fhefh/archive/2011/04/15/2017613.html