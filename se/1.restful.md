# RESTful
# 一 概述
主要记录RESTful,顺带记录Swagger,GraphQL等

## 1 简介
解决的问题：降低开发的复杂性、提高系统的可伸缩性

设计概念和准则:
1. URL是动词+宾语（资源名称）的形式，动词是五种HTTP方法（），对应。。。
   1. 宾语必须是名词，单数复数随意，建议统一用复数，比如`GET /articles/2`要好于`GET /article/2`
2. 避免多级URL：
1. 网络上的所有事物都可以抽象为资源
2. 每个资源有唯一的标识（删除了资源，标识也还在）
3. 所有操作都是无状态的

restful和soap的比较
1. 安全性：后者胜
2. 性能：前者胜

## 3 常识
### 3.1 幂等性（idempotence）
幂等是数学的一个用语：传入相同参数重复执行函数，如果每次都是同样的结果，则称其是幂等的。比如`min(a,b)`

## 4 文档等
1. 大神生动介绍什么是RESTful:[https://www.jianshu.com/p/e77d2f60aa5d](https://www.jianshu.com/p/e77d2f60aa5d)
2. Spring Boot中使用Swagger2构建强大的RESTful API文档:http://blog.didispace.com/springbootswagger2/

# 二 安装配置

# 三 基础
1. URL介绍

## 2 各种请求
使用场景分析：
1. 当需要以更新的形式来修改某一具体资源的时候，如何判断用PUT还是POST：如果该更新对应的URI多次调用的结果一致，则PUT，比如更新某个blog文章，因为该文章具有单一的具体URI，所以每次更新提交相同的内容，结果都一致`/blog/{document_id}/update`;在每次更新提交相同的内容，最终的结果不一致的时候，用POST,举个很常见的例子，一个接口的功能是将当前余额减一个值，每次提交指定该值为100，接口如下`/amount/deduction`

### 2.1 GET
1. 从restful的角度讲，query是给get用的。一般参数含数组的话

### 2.2 POST
不是幂等的。

### 2.4 PUT
用于向指定的URI传送更新资源，是幂等的。

# 四 高级
## 1 GraphQL
GraphQL 是API的查询语言（可以看成是REST的现代版）,在创业公司中很热门.

缺点:
1. 在创业公司中热门而在其他公司可能不热门的原因是需要为它专门搭建集群之类的,这点创业公司可以做到,但是对其他公司可能改动就会很大
2. 翻译的文档太少,对生态很不利
3. 缺少相关方案


## 2 如何使用Swagger编写基于OpenAPI规范的API文档
参考:https://legacy.gitbook.com/book/huangwenchao/swagger/details

# 六 问题
1. 一般设计几层比较好，类比zookeeper里的配置
   
# 七 待整理
1. Swagger2
2. https://blog.csdn.net/rainbow702/article/details/53768802